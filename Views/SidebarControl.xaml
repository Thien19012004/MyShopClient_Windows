<UserControl
    x:Class="MyShopClient.Views.SidebarControl"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    mc:Ignorable="d"
    d:DesignHeight="600"
    d:DesignWidth="230">

    <UserControl.Resources>
        <!-- Brush cho trạng thái active / inactive (light theme) -->
        <SolidColorBrush x:Key="SidebarActiveBrush" Color="#FFEFF2FF" />
        <SolidColorBrush x:Key="SidebarInactiveBrush" Color="Transparent" />
        <SolidColorBrush x:Key="SidebarBorderBrush" Color="#FFE5E7EB" />
        <SolidColorBrush x:Key="SidebarHeaderColor" Color="#FF6B7280" />
        <SolidColorBrush x:Key="SidebarIconColor" Color="#FF6B7280" />
        <SolidColorBrush x:Key="SidebarTextColor" Color="#FF1F2937" />
        <Thickness x:Key="MenuItemPadding">12,8,12,8</Thickness>
        <Style x:Key="MenuButtonStyle" TargetType="Button">
            <Setter Property="Height" Value="44" />
            <Setter Property="HorizontalAlignment" Value="Stretch" />
            <Setter Property="Margin" Value="5,0" />
            <Setter Property="Background" Value="{StaticResource SidebarInactiveBrush}" />
            <Setter Property="Foreground" Value="{StaticResource SidebarIconColor}" />
            <Setter Property="BorderThickness" Value="0" />
            <Setter Property="CornerRadius" Value="8" />
            <Setter Property="HorizontalContentAlignment" Value="Stretch" />
            <Setter Property="Padding" Value="0" />
        </Style>
    </UserControl.Resources>

    <!-- Sidebar tự chỉnh Width, DashboardPage đặt ColumnDefinition.Width="Auto" -->
    <Grid Background="#FFFFFFFF" BorderBrush="{StaticResource SidebarBorderBrush}" BorderThickness="0,0,1,0">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- HEADER + HAMBURGER -->
        <Grid Grid.Row="0"
              Margin="8,12,8,8">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="40"/>
                <ColumnDefinition Width="*"/>
            </Grid.ColumnDefinitions>

            <!-- nút hamburger luôn nằm đây, không bao giờ mất -->
            <Button x:Name="HamburgerButton"
                    Width="32"
                    Height="32"
                    HorizontalAlignment="Left"
                    VerticalAlignment="Center"
                    Content="☰"
                    Click="HamburgerButton_Click"
                    Background="#882D3445"
                    Foreground="White"
                    BorderThickness="0"
                    CornerRadius="16"/>

            <StackPanel Grid.Column="1"
                        Orientation="Horizontal"
                        Spacing="8"
                        VerticalAlignment="Center"
                        x:Name="TitlePanel">
                <Ellipse Width="24" Height="24" Fill="#FF5D5FEF"/>
                <TextBlock Text="MyShop"
                           VerticalAlignment="Center"
                           FontSize="18"
                           FontWeight="SemiBold"
                           Foreground="#FF1F2937"/>
            </StackPanel>
        </Grid>

        <!-- MAIN MENU -->
        <StackPanel Grid.Row="1"
                    Margin="6,10,6,10"
                    Spacing="6">
            <TextBlock Text="MAIN MENU"
                       Margin="10,0,0,4"
                       FontSize="11"
                       Foreground="{StaticResource SidebarHeaderColor}"
                       x:Name="MainMenuHeader"/>

            <!-- Dashboard -->
            <Button x:Name="DashboardButton"
                    Style="{StaticResource MenuButtonStyle}"
                    Background="{StaticResource SidebarActiveBrush}"
                    Click="Dashboard_Click">
                <Grid Padding="{StaticResource MenuItemPadding}" ColumnDefinitions="Auto,10,*" VerticalAlignment="Center">
                    <FontIcon Glyph="&#xE80F;" FontSize="16" Foreground="{StaticResource SidebarIconColor}"/>
                    <TextBlock Grid.Column="2" Text="Dashboard" x:Name="DashboardText" Foreground="{StaticResource SidebarTextColor}" VerticalAlignment="Center"/>
                </Grid>
            </Button>

            <!-- Products -->
            <Button x:Name="ProductsButton"
                    Style="{StaticResource MenuButtonStyle}"
                    Click="Products_Click">
                <Grid Padding="{StaticResource MenuItemPadding}" ColumnDefinitions="Auto,10,*" VerticalAlignment="Center">
                    <FontIcon Glyph="&#xE719;" FontSize="16" Foreground="{StaticResource SidebarIconColor}"/>
                    <TextBlock Grid.Column="2" Text="Products" x:Name="ProductsText" Foreground="{StaticResource SidebarTextColor}" VerticalAlignment="Center"/>
                </Grid>
            </Button>

            <!-- Orders -->
            <Button x:Name="OrdersButton"
                    Style="{StaticResource MenuButtonStyle}"
                    Click="Orders_Click">
                <Grid Padding="{StaticResource MenuItemPadding}" ColumnDefinitions="Auto,10,*" VerticalAlignment="Center">
                    <FontIcon Glyph="&#xE7BF;" FontSize="16" Foreground="{StaticResource SidebarIconColor}"/>
                    <TextBlock Grid.Column="2" Text="Orders" x:Name="OrdersText" Foreground="{StaticResource SidebarTextColor}" VerticalAlignment="Center"/>
                </Grid>
            </Button>

            <!-- Customers -->
            <Button x:Name="CustomersButton"
                    Style="{StaticResource MenuButtonStyle}"
                    Click="Customers_Click">
                <Grid Padding="{StaticResource MenuItemPadding}" ColumnDefinitions="Auto,10,*" VerticalAlignment="Center">
                    <FontIcon Glyph="&#xE716;" FontSize="16" Foreground="{StaticResource SidebarIconColor}"/>
                    <TextBlock Grid.Column="2" Text="Customers" x:Name="CustomersText" Foreground="{StaticResource SidebarTextColor}" VerticalAlignment="Center"/>
                </Grid>
            </Button>

            <!-- Promotions -->
            <Button x:Name="PromotionsButton"
                    Style="{StaticResource MenuButtonStyle}"
                    Click="Promotions_Click">
                <Grid Padding="{StaticResource MenuItemPadding}" ColumnDefinitions="Auto,10,*" VerticalAlignment="Center">
                    <FontIcon Glyph="&#xE1D3;" FontSize="16" Foreground="{StaticResource SidebarIconColor}"/>
                    <TextBlock Grid.Column="2" Text="Promotions" x:Name="PromotionsText" Foreground="{StaticResource SidebarTextColor}" VerticalAlignment="Center"/>
                </Grid>
            </Button>

            <!-- Reports -->
            <Button x:Name="ReportsButton"
                    Style="{StaticResource MenuButtonStyle}"
                    Click="Reports_Click">
                <Grid Padding="{StaticResource MenuItemPadding}" ColumnDefinitions="Auto,10,*" VerticalAlignment="Center">
                    <FontIcon Glyph="&#xE9D2;" FontSize="16" Foreground="{StaticResource SidebarIconColor}"/>
                    <TextBlock Grid.Column="2" Text="Reports" x:Name="ReportsText" Foreground="{StaticResource SidebarTextColor}" VerticalAlignment="Center"/>
                </Grid>
            </Button>

            <!-- KPI -->
            <Button x:Name="KpiButton"
                    Style="{StaticResource MenuButtonStyle}"
                    Click="Kpi_Click">
                <Grid Padding="{StaticResource MenuItemPadding}" ColumnDefinitions="Auto,10,*" VerticalAlignment="Center">
                    <FontIcon Glyph="&#xE9D9;" FontSize="16" Foreground="{StaticResource SidebarIconColor}"/>
                    <TextBlock Grid.Column="2" Text="KPI" x:Name="KpiText" Foreground="{StaticResource SidebarTextColor}" VerticalAlignment="Center"/>
                </Grid>
            </Button>

            <!-- Settings -->
            <Button x:Name="SettingsButton"
                    Style="{StaticResource MenuButtonStyle}"
                    Click="Settings_Click">
                <Grid Padding="{StaticResource MenuItemPadding}" ColumnDefinitions="Auto,10,*" VerticalAlignment="Center">
                    <FontIcon Glyph="&#xE713;" FontSize="16" Foreground="{StaticResource SidebarIconColor}"/>
                    <TextBlock Grid.Column="2" Text="Settings" x:Name="SettingsText" Foreground="{StaticResource SidebarTextColor}" VerticalAlignment="Center"/>
                </Grid>
            </Button>
        </StackPanel>

        <!-- LOGOUT -->
        <Button Grid.Row="2"
                Margin="10,0,10,20"
                Height="40"
                CornerRadius="10"
                HorizontalAlignment="Stretch"
                Click="Logout_Click"
                Background="#FFF5F5F5"
                Foreground="#FFDC2626">
            <StackPanel Orientation="Horizontal"
                        HorizontalAlignment="Center"
                        Spacing="8">
                <FontIcon Glyph="&#xF3B1;" FontSize="16"/>
                <TextBlock x:Name="LogoutText"
                           Text="Log out"/>
            </StackPanel>
        </Button>
    </Grid>
</UserControl>
